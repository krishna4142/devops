<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>JavaScript Interview Quiz — 30 Levels (150 Questions)</title>
<style>
  :root{--maxw:980px}
  body{font-family:system-ui,Arial,sans-serif;background:#f4f8ff;margin:0;padding:28px;display:flex;justify-content:center}
  .box{width:100%;max-width:var(--maxw);background:#fff;border-radius:12px;padding:20px 22px;box-shadow:0 10px 30px rgba(0,0,0,.12)}
  h1{margin:0 0 8px;font-size:22px}
  p.lead{margin:4px 0 18px;color:#444}
  .levels{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:16px}
  .levels button{padding:8px 12px;border-radius:8px;border:0;background:#1f7aea;color:#fff;cursor:pointer;font-weight:600}
  .levels button:hover{background:#155ec1}
  .form-card, .quiz-card{display:none;background:#f8fbff;border-radius:10px;padding:14px;border:1px solid #e6eefc;margin-bottom:12px}
  .form-row{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-bottom:8px}
  .form-row input{padding:10px;border-radius:8px;border:1px solid #ccdbeff;width:280px}
  .btn{padding:10px 14px;border-radius:8px;border:0;background:#0b6ef0;color:#fff;cursor:pointer;font-weight:700}
  .btn.secondary{background:#6b7280}
  .q-title{font-weight:700;margin:8px 0}
  .options label{display:block;background:#fff;border:1px solid #e6eefc;padding:10px;border-radius:8px;margin:8px 0;cursor:pointer}
  .feedback{min-height:22px;font-weight:700;margin-top:10px;text-align:center}
  .footer{margin-top:12px;color:#666;font-size:13px}
  /* Modal */
  .overlay{position:fixed;inset:0;background:rgba(0,0,0,.4);display:none;z-index:99}
  .modal{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);background:#fff;padding:18px;border-radius:12px;box-shadow:0 12px 28px rgba(0,0,0,.2);display:none;z-index:100;width:min(92vw,420px)}
  .modal h3{margin:0 0 8px}
  .modal p{margin:8px 0}
  .meta{color:#333;font-weight:700;margin-bottom:8px}
  h1{
    text-align: center;
  }
</style>
</head>
<body>
  <div class="box">
    <h1>JavaScript Interview Quiz</h1>
    <!-- <p class="lead">30 levels × 5 questions = 150 questions. Click a level — fill the form — start the 5-question quiz.</p> -->

    <div class="levels" id="levels"></div>

    <div class="form-card" id="formCard">
      <div class="meta" id="formMeta">Level — Enter details</div>
      <div class="form-row">
        <input id="username" placeholder="Username (required)" />
        <input id="mobile" placeholder="Mobile number (10–15 digits)" />
      </div>
      <div style="display:flex;gap:8px;justify-content:center">
        <button class="btn" id="verifytBtn">Verfy</button>
        <!-- <button class="btn" id="startBtn">Start</button> -->
        <button class="btn secondary" id="formBack">Back</button>
      </div>
      <div id="formError" style="color:#c0392b;margin-top:8px;text-align:center;min-height:18px"></div>
    </div>

    <div class="quiz-card" id="quizCard">
      <div class="meta" id="levelInfo"></div>
      <div class="q-title" id="questionText"></div>
      <div id="optionsList" class="options"></div>
      <div style="display:flex;gap:8px;justify-content:center;margin-top:12px">
        <button class="btn" id="nextBtn">Next</button>
        <button class="btn secondary" id="quitBtn">Quit</button>
      </div>
      <div class="feedback" id="feedback"></div>
    </div>

    <div id="resultText" style="min-height:28px;font-weight:700;text-align:center;margin-top:8px"></div>
    <div class="footer">Tip: username &amp; mobile asked before every level — they are not persisted by this demo.</div>
  </div>

  <div class="overlay" id="overlay"></div>
  <div class="modal" id="modal">
    <h3 id="modalTitle">Level Completed</h3>
    <p id="modalMessage"></p>
    <div style="display:flex;gap:8px;margin-top:12px">
      <button class="btn" id="modalOk">OK</button>
      <button class="btn secondary" id="modalBack">Back to Levels</button>
    </div>
  </div>

<script>
/* ============================
   150 JavaScript Interview Qs
   30 levels × 5 questions
   ============================ */
const quizData = [
/* Level 1 (1-5) — basics */
{q:"1. What is JavaScript?", opts:["A programming language","A database","An operating system","A markup language"], a:"A programming language"},
{q:"2. Which company originally created JavaScript?", opts:["Microsoft","Netscape","Google","Oracle"], a:"Netscape"},
{q:"3. Which symbol starts a single-line comment in JS?", opts:["//","#","/*","<!--"], a:"//"},
{q:"4. Which of these is a primitive type in JS?", opts:["Object","Function","Symbol","Date"], a:"Symbol"},
{q:"5. What does 'typeof null' return in JavaScript?", opts:["'object'","'null'","'undefined'","'number'"], a:"'object'"},

/* Level 2 (6-10) — variables & coercion */
{q:"6. Which keyword declares a block-scoped variable?", opts:["var","let","const","both var and let"], a:"let"},
{q:"7. Which keyword declares a constant binding?", opts:["var","let","const","define"], a:"const"},
{q:"8. What is the value of an uninitialized variable?", opts:["null","0","undefined","NaN"], a:"undefined"},
{q:"9. What is the result of '5' + 3 in JS?", opts:["8","'8'","'53'","53"], a:"'53'"},
{q:"10. Which operator tests strict equality (no type coercion)?", opts:["==","===","=","!=="], a:"==="},

/* Level 3 (11-15) — functions, scope */
{q:"11. What is a closure?", opts:["A function + its lexical environment","A function without return","A loop","A built-in object"], a:"A function + its lexical environment"},
{q:"12. Which statement describes hoisting?", opts:["Moving functions/vars to top of scope at runtime","Compiling code to bytecode","Inlining functions","Removing unused code"], a:"Moving functions/vars to top of scope at runtime"},
{q:"13. Which has function scope (not block scope)?", opts:["let","const","var","class"], a:"var"},
{q:"14. Arrow functions differ from normal functions in that they:", opts:["Have their own 'this'","Bind 'this' lexically","Cannot be invoked","Are not functions"], a:"Bind 'this' lexically"},
{q:"15. Which syntax creates an IIFE (Immediately Invoked Function Expression)?", opts:["(function(){})()","function f(){}","() => {}","new Function()"], a:"(function(){})()"},

/* Level 4 (16-20) — arrays */
{q:"16. Which method returns a new array without modifying original?", opts:["push()","splice()","slice()","shift()"], a:"slice()"},
{q:"17. Which method adds an element to the end of an array?", opts:["pop()","push()","unshift()","shift()"], a:"push()"},
{q:"18. Which method applies a function to each array element and returns a new array?", opts:["forEach()","map()","filter()","reduce()"], a:"map()"},
{q:"19. Which returns a single value by accumulating array items?", opts:["map()","filter()","reduce()","some()"], a:"reduce()"},
{q:"20. How do you find index of first element matching a condition?", opts:["indexOf()","findIndex()","find()","filter()"], a:"findIndex()"},

/* Level 5 (21-25) — objects */
{q:"21. How to create a new object with no prototype?", opts:["{}","Object.create(null)","new Object()","Object()"], a:"Object.create(null)"},
{q:"22. Which checks own properties, not prototype properties?", opts:["in operator","hasOwnProperty()","Object.keys()","for...in"], a:"hasOwnProperty()"},
{q:"23. How to shallow copy enumerable own properties from source to target?", opts:["Object.assign(target, source)","JSON.parse(JSON.stringify(obj))","clone(obj)","spread with function"], a:"Object.assign(target, source)"},
{q:"24. To define a symbol-keyed property, use:", opts:["'symbol'","Symbol('desc')","#symbol","@symbol"], a:"Symbol('desc')"},
{q:"25. Which returns array of object's own enumerable property names?", opts:["Object.getOwnPropertyNames()","Object.keys()","for...in","Reflect.ownKeys()"], a:"Object.keys()"},

/* Level 6 (26-30) — prototypes & classes */
{q:"26. What is prototype-based inheritance in JS?", opts:["Objects inherit directly from other objects","Classes only","No inheritance","Inheritance via interfaces"], a:"Objects inherit directly from other objects"},
{q:"27. The prototype chain ends at:", opts:["undefined","Object.prototype which points to null","window","document"], a:"Object.prototype which points to null"},
{q:"28. 'class' in JS is:", opts:["Syntactic sugar over prototypes","A new runtime type","Not available","Same as interface"], a:"Syntactic sugar over prototypes"},
{q:"29. Static methods on classes are called on:", opts:["Instances","Prototype","Class itself","Super"], a:"Class itself"},
{q:"30. How to call parent constructor in subclass?", opts:["super()","parent()","base()","this.super()"], a:"super()"},

/* Level 7 (31-35) — async basics */
{q:"31. A Promise represents:", opts:["A completed value","A future value (async result)","A synchronous callback","A DOM element"], a:"A future value (async result)"},
{q:"32. How to get resolved value from a promise?", opts:["then()", "catch()", "finally()", "resolve()"], a:"then()"},
{q:"33. Which returns a Promise resolved when all passed promises resolve?", opts:["Promise.race()","Promise.all()","Promise.any()","Promise.allSettled()"], a:"Promise.all()"},
{q:"34. What does async function always return?", opts:["A value","A Promise","Undefined","A generator"], a:"A Promise"},
{q:"35. Where can you use 'await' directly (without wrapper)?", opts:["Anywhere","Only inside async function or top-level in modules","Only in global scope","Never"], a:"Only inside async function or top-level in modules"},

/* Level 8 (36-40) — event loop */
{q:"36. Which queue runs before the other in the event loop after microtasks are scheduled?", opts:["Macrotasks before microtasks","Microtasks before macrotasks","They run simultaneously","Neither"], a:"Microtasks before macrotasks"},
{q:"37. Which schedules a microtask?", opts:["setTimeout","setInterval","Promise.then / queueMicrotask","requestAnimationFrame"], a:"Promise.then / queueMicrotask"},
{q:"38. Which is a macrotask?", opts:["Promise.then", "MutationObserver", "setTimeout callback", "queueMicrotask"], a:"setTimeout callback"},
{q:"39. requestAnimationFrame is primarily used for:", opts:["Network requests","Animation frame rendering", "Promise scheduling","Event capturing"], a:"Animation frame rendering"},
{q:"40. requestIdleCallback is used for:", opts:["Critical UI updates","Low-priority background tasks","Synchronous code","Blocking"], a:"Low-priority background tasks"},

/* Level 9 (41-45) — DOM & events */
{q:"41. document.querySelector('#id') returns:", opts:["All elements","First matching element or null","Array","HTMLCollection"], a:"First matching element or null"},
{q:"42. Which method adds an event listener?", opts:["addEventListener","attachEvent","on()","listen()"], a:"addEventListener"},
{q:"43. event.preventDefault() does:", opts:["Stop event bubbling","Prevent element's default action","Remove listener","Stop propagation"], a:"Prevent element's default action"},
{q:"44. event.stopPropagation() does:", opts:["Stop propagation to other handlers","Prevent default action","Remove event","Pause JS"], a:"Stop propagation to other handlers"},
{q:"45. Event delegation is useful because:", opts:["Attaches many listeners","Improves performance by using fewer listeners","No reason","Deprecated"], a:"Improves performance by using fewer listeners"},

/* Level 10 (46-50) — forms & inputs */
{q:"46. Which input property returns current value string?", opts:["innerText","value","textContent","content"], a:"value"},
{q:"47. To prevent form submission default action use:", opts:["preventDefault()","stopPropagation()","return false","stopDefault()"], a:"preventDefault()"},
{q:"48. Which event fires on each value change for text input in modern browsers?", opts:["change","input","keyup","keydown"], a:"input"},
{q:"49. Which attribute makes input required by browser?", opts:["mandatory","required","must","validate"], a:"required"},
{q:"50. To focus an element programmatically use:", opts:["element.focus()","focus(element)","element.select()","element.activate()"], a:"element.focus()"},

/* Level 11 (51-55) — AJAX & fetch */
{q:"51. Which modern API is used to fetch resources over network?", opts:["XMLHttpRequest","fetch()","axios only","net.fetch()"], a:"fetch()"},
{q:"52. fetch(url).then(res => res.json()) returns:", opts:["A string","A Promise resolving to parsed JSON","An error","Synchronous object"], a:"A Promise resolving to parsed JSON"},
{q:"53. To send POST JSON with fetch, include:", opts:["body: JSON.stringify(data) and headers 'Content-Type': 'application/json'","body: data only","No body","Use GET"], a:"body: JSON.stringify(data) and headers 'Content-Type': 'application/json'"},
{q:"54. How to abort a fetch request mid-flight?", opts:["setTimeout", "AbortController signal","CancelToken", "fetch.abort()"], a:"AbortController signal"},
{q:"55. CORS stands for:", opts:["Cross-Origin Resource Sharing","Cross-Object Resource Sharing","Client-Origin Resource Security","Cross-Origin Request Safe"], a:"Cross-Origin Resource Sharing"},

/* Level 12 (56-60) — storage & cookies */
{q:"56. Which storage persists across browser sessions (per origin)?", opts:["sessionStorage","localStorage","cookie only","memory"], a:"localStorage"},
{q:"57. Which storage is cleared when tab is closed?", opts:["localStorage","sessionStorage","IndexedDB","Cache API"], a:"sessionStorage"},
{q:"58. To set cookie expiry use the 'expires' or 'max-age' attribute in:", opts:["document.cookie string","localStorage.setItem","sessionStorage.setItem","cookieAPI.set()"], a:"document.cookie string"},
{q:"59. Which API allows structured storage and indexing for larger datasets?", opts:["localStorage","IndexDB","IndexedDB","MemoryDB"], a:"IndexedDB"},
{q:"60. Cookies are sent to server on each request to origin by default unless 'HttpOnly' or 'SameSite' restricts them.", opts:["True","False","Only if secure","Only for POST"], a:"True"},

/* Level 13 (61-65) — ES6 features */
{q:"61. Which introduced block-scoped variables?", opts:["var","let and const","function","class"], a:"let and const"},
{q:"62. Template literals use which delimiters?", opts:["'single'","\"double\"","`backticks`","<templ>"], a:"`backticks`"},
{q:"63. Destructuring allows:", opts:["Extracting values from arrays/objects into variables","Serializing objects","Compiling code","None"], a:"Extracting values from arrays/objects into variables"},
{q:"64. Default parameters syntax:", opts:["function f(a=1){}", "function f(a?1){}", "function f(a|1){}", "function f(a := 1){}"], a:"function f(a=1){}"},
{q:"65. Spread operator for arrays is:", opts:["<<", "...", "**", "spread()"], a:"..."},

/* Level 14 (66-70) — modules */
{q:"66. ES module import syntax for default export:", opts:["const x = require('x')","import x from 'x'","import {x} from 'x'","module.import('x')"], a:"import x from 'x'"},
{q:"67. To export a named export use:", opts:["export { a }","export default a","module.exports = a","exports.a = a"], a:"export { a }"},
{q:"68. Module scripts use which script tag attribute?", opts:["type='module'","type='es'","defer='module'","module='true'"], a:"type='module'"},
{q:"69. Top-level await is allowed in:", opts:["Classic scripts","ES modules","No where","Only Node REPL"], a:"ES modules"},
{q:"70. Dynamic import returns:", opts:["Module object synchronously","A Promise resolving to module","String","Undefined"], a:"A Promise resolving to module"},

/* Level 15 (71-75) — error handling & debugging */
{q:"71. To catch runtime exceptions use:", opts:["try/catch","if/else","switch","throw only"], a:"try/catch"},
{q:"72. To rethrow an error inside catch, use:", opts:["throw err","reject(err)","return err","throw new Error(err)"], a:"throw err"},
{q:"73. console.warn prints a warning; console.error prints an error.", opts:["True","False","Only error","Only warn"], a:"True"},
{q:"74. Source maps help by mapping minified code back to original source during debugging.", opts:["True","False","Only for CSS","Only for images"], a:"True"},
{q:"75. Which statement stops code execution in debugger?", opts:["debugger;","stop;","break;","halt;"], a:"debugger;"},

/* Level 16 (76-80) — performance & memory */
{q:"76. Which helps avoid layout thrashing when reading & writing DOM repeatedly?", opts:["Batch reads then writes","Interleave reads and writes","Use setInterval","Use alert"], a:"Batch reads then writes"},
{q:"77. Keeping references to unused objects can cause:", opts:["Faster GC","Memory leaks","Improved performance","Nothing"], a:"Memory leaks"},
{q:"78. requestAnimationFrame is preferred for smooth animations over setInterval.", opts:["True","False","Only for Node","Only for CSS"], a:"True"},
{q:"79. Debouncing reduces frequency of function calls by delaying until user stops triggering.", opts:["True","False","Only for server","Only for CSS"], a:"True"},
{q:"80. Throttling ensures a function runs at most once per specified interval.", opts:["True","False","Only for animations","Only for input"], a:"True"},

/* Level 17 (81-85) — concurrency patterns */
{q:"81. Promise.all resolves when:", opts:["Any promise resolves","All promises resolve","First promise resolves","None"], a:"All promises resolve"},
{q:"82. Promise.race resolves with:", opts:["First settled promise (resolve or reject)","All promises","None","Last promise"], a:"First settled promise (resolve or reject)"},
{q:"83. async/await is syntactic sugar over Promises.", opts:["True","False","Only in browsers","Only in Node"], a:"True"},
{q:"84. To run tasks in parallel and collect results, use Promise.all or Promise.allSettled depending on error handling.", opts:["True","False","Only all","Only race"], a:"True"},
{q:"85. queueMicrotask schedules a microtask that runs after current script but before next macrotask.", opts:["True","False","Runs in macrotask","Deprecated"], a:"True"},

/* Level 18 (86-90) — regex & strings */
{q:"86. Regex flag 'g' stands for:", opts:["global","group","guard","greedy"], a:"global"},
{q:"87. To escape '.' in regex to match literal dot use '\\.'", opts:["True","False","Use '.'","Use [.]"], a:"True"},
{q:"88. String.includes('a') returns boolean whether substring present.", opts:["True","False","Returns index","Returns substring"], a:"True"},
{q:"89. Template literal expression interpolation uses ${...}.", opts:["True","False","Uses @{}", "Uses $$"], a:"True"},
{q:"90. Which returns substring from index 2 to 5 (exclusive)?", opts:["str.slice(2,5)","str.substr(2,5)","str.substring(2,5)","All similar depending on usage"], a:"str.slice(2,5)"},

/* Level 19 (91-95) — numbers & date */
{q:"91. Number.isNaN(x) differs from global isNaN by not coercing.", opts:["True","False","Both same","One deprecated"], a:"True"},
{q:"92. Number.MAX_SAFE_INTEGER equals 9007199254740991 (2^53 - 1).", opts:["True","False","2^31-1","Infinity"], a:"True"},
{q:"93. parseInt('08') returns 8 when radix inferred as 10 in modern browsers.", opts:["True","False","Throws","Returns NaN"], a:"True"},
{q:"94. new Date().toISOString() returns date in ISO 8601 format in UTC.", opts:["True","False","Local only","Deprecated"], a:"True"},
{q:"95. Date parsing of 'YYYY-MM-DD' is treated as UTC in some engines — safer to use Date.parse with full ISO or specify timezone.", opts:["True","False","Always local","Always invalid"], a:"True"},

/* Level 20 (96-100) — maps/sets & typed arrays */
{q:"96. Map preserves insertion order of keys and allows non-string keys.", opts:["True","False","Only strings keys","Only numbers"], a:"True"},
{q:"97. Set stores unique values only.", opts:["True","False","Can have duplicates","Only objects"], a:"True"},
{q:"98. WeakMap keys must be objects and held weakly (allowing GC).", opts:["True","False","Keys can be primitives","Deprecated"], a:"True"},
{q:"99. Typed arrays such as Uint8Array store binary numeric data with fixed element type/size.", opts:["True","False","Only for strings","Only Node"], a:"True"},
{q:"100. ArrayBuffer and DataView are used for low-level binary manipulation.", opts:["True","False","Only for images","Deprecated"], a:"True"},

/* Level 21 (101-105) — web apis & canvas */
{q:"101. fetch API replaces XMLHttpRequest for many use cases.", opts:["True","False","Deprecated","Only Node"], a:"True"},
{q:"102. Canvas 2D context obtained via canvas.getContext('2d').", opts:["True","False","Use getContext2D","Deprecated"], a:"True"},
{q:"103. WebSockets provide a persistent bidirectional connection.", opts:["True","False","Only for HTTP","Deprecated"], a:"True"},
{q:"104. Service Workers run on the main thread.", opts:["True","False","Only in Node","Deprecated"], a:"False"},
{q:"105. Cache API is useful for storing responses for offline-first PWAs.", opts:["True","False","Only cookies","Only localStorage"], a:"True"},

/* Level 22 (106-110) — security */
{q:"106. To avoid XSS, always escape or sanitize untrusted HTML before inserting with innerHTML.", opts:["True","False","XSS safe by default","Only use textContent"], a:"True"},
{q:"107. Content Security Policy (CSP) helps mitigate XSS by restricting sources.", opts:["True","False","Only for images","Deprecated"], a:"True"},
{q:"108. HttpOnly cookie cannot be read via JavaScript document.cookie.", opts:["True","False","Only in Firefox","Only in Chrome"], a:"True"},
{q:"109. CORS settings are enforced by browser, not server (server must provide headers).", opts:["True","False","Only server enforces","Only developer tools"], a:"True"},
{q:"110. Using eval() with untrusted input is a security risk.", opts:["True","False","Sometimes safe","Only in Node"], a:"True"},

/* Level 23 (111-115) — modules & bundling */
{q:"111. Tree shaking is a bundler optimization to remove unused exports.", opts:["True","False","Only for CSS","Only runtime"], a:"True"},
{q:"112. Babel transpiles modern JS to older syntax for compatibility.", opts:["True","False","Only TypeScript","Only CSS"], a:"True"},
{q:"113. Source maps map compiled code back to original source for debugging.", opts:["True","False","Only for CSS","Deprecated"], a:"True"},
{q:"114. Code-splitting improves initial load by lazy-loading chunks.", opts:["True","False","Worse performance","Deprecated"], a:"True"},
{q:"115. Dynamic import('module') returns a Promise resolving to the module.", opts:["True","False","Synchronous","Deprecated"], a:"True"},

/* Level 24 (116-120) — Node.js */
{q:"116. Node.js is built on the V8 JavaScript engine.", opts:["True","False","Built on SpiderMonkey","Built on JVM"], a:"True"},
{q:"117. npm is Node's package manager.", opts:["True","False","Only for Python","Deprecated"], a:"True"},
{q:"118. package.json contains metadata, scripts and dependencies.", opts:["True","False","Only lock file","Only for browsers"], a:"True"},
{q:"119. require() is CommonJS import—use import/export for ES modules.", opts:["True","False","Both same","Deprecated"], a:"True"},
{q:"120. process.nextTick queues a microtask before Promises in Node event loop.", opts:["True","False","Same as setImmediate","Deprecated"], a:"True"},

/* Level 25 (121-125) — testing & tooling */
{q:"121. Jest, Mocha, Jasmine are JavaScript testing frameworks.", opts:["True","False","Only Jest exists","Only in Node"], a:"True"},
{q:"122. Unit tests validate small units of code independently.", opts:["True","False","Only integration tests","Deprecated"], a:"True"},
{q:"123. Linting (ESLint) helps enforce code quality and catch bugs early.", opts:["True","False","Only style","Deprecated"], a:"True"},
{q:"124. Formatting tools (Prettier) change code style, not semantics.", opts:["True","False","Also change logic","Deprecated"], a:"True"},
{q:"125. CI (Continuous Integration) automates testing and build on push.", opts:["True","False","Manual only","Deprecated"], a:"True"},

/* Level 26 (126-130) — advanced ES features */
{q:"126. Optional chaining operator '?.' avoids errors when accessing nested properties.", opts:["True","False","Deprecated","Only in TS"], a:"True"},
{q:"127. Nullish coalescing '??' distinguishes null/undefined from falsy 0/'', unlike ||.", opts:["True","False","Same as ||","Deprecated"], a:"True"},
{q:"128. BigInt allows integers beyond Number.MAX_SAFE_INTEGER with 'n' suffix.", opts:["True","False","Only in Node","Deprecated"], a:"True"},
{q:"129. WeakRef and FinalizationRegistry are advanced memory APIs for weak refs.", opts:["True","False","Only in browser","Deprecated"], a:"True"},
{q:"130. Dynamic import can be used to lazy-load modules.", opts:["True","False","Only for CSS","Deprecated"], a:"True"},

/* Level 27 (131-135) — architecture & patterns */
{q:"131. MVC stands for Model-View-Controller, a common architecture pattern.", opts:["True","False","Only MVVM","Only Flux"], a:"True"},
{q:"132. Pub/Sub or EventEmitter pattern decouples producers and consumers.", opts:["True","False","Only for DOM","Deprecated"], a:"True"},
{q:"133. Singleton pattern ensures a single shared instance.", opts:["True","False","Always discouraged","Deprecated"], a:"True"},
{q:"134. Factory functions return created objects and can be preferred over classes in some cases.", opts:["True","False","Only for DOM","Deprecated"], a:"True"},
{q:"135. Functional programming favors pure functions and immutability.", opts:["True","False","Not related","Deprecated"], a:"True"},

/* Level 28 (136-140) — progressive web apps & offline */
{q:"136. A PWA can be installed and work offline using service workers and cache.", opts:["True","False","Only on Android","Deprecated"], a:"True"},
{q:"137. manifest.json defines app icons and display properties for PWAs.", opts:["True","False","Only for native apps","Deprecated"], a:"True"},
{q:"138. Service worker 'install' and 'activate' are life-cycle events.", opts:["True","False","Only in Node","Deprecated"], a:"True"},
{q:"139. Background sync API allows retrying requests when online.", opts:["True","False","Only cookies","Deprecated"], a:"True"},
{q:"140. Workbox is a library to simplify service worker tasks.", opts:["True","False","Only for CSS","Deprecated"], a:"True"},

/* Level 29 (141-145) — browser internals & optimization */
{q:"141. Browser paint, layout, and compositing are phases in rendering pipeline.", opts:["True","False","Only paint","Deprecated"], a:"True"},
{q:"142. Reflows/layouts are expensive and should be minimized.", opts:["True","False","Only for mobile","Deprecated"], a:"True"},
{q:"143. Using CSS transforms and opacity for animation is more efficient than top/left changes.", opts:["True","False","Both same","Deprecated"], a:"True"},
{q:"144. Avoid synchronous XHR as it blocks the main thread.", opts:["True","False","Only in Node","Deprecated"], a:"True"},
{q:"145. Prefetching and preloading resources can improve perceived performance.", opts:["True","False","Only for images","Deprecated"], a:"True"},

/* Level 30 (146-150) — modern & misc */
{q:"146. Optional chaining with function call looks like obj?.method()", opts:["True","False","Syntax error","Deprecated"], a:"True"},
{q:"147. Intl API helps localize numbers, dates, and lists.", opts:["True","False","Only for currency","Deprecated"], a:"True"},
{q:"148. WebAssembly runs near-native code in browser; JS can interop with it.", opts:["True","False","Only for Node","Deprecated"], a:"True"},
{q:"149. CSP header 'default-src' helps restrict resource loading origins.", opts:["True","False","Only cookies","Deprecated"], a:"True"},
{q:"150. Use 'performance.now()' for high-resolution timestamps over Date.now() for measuring short intervals.", opts:["True","False","Both same","Deprecated"], a:"True"}
];

/* ============================
   Quiz engine & UI wiring
   ============================ */

const levelsContainer = document.getElementById('levels');
const formCard = document.getElementById('formCard');
const quizCard = document.getElementById('quizCard');
const formMeta = document.getElementById('formMeta');
const startBtn = document.getElementById('startBtn');
const formBack = document.getElementById('formBack');
const formError = document.getElementById('formError');
const usernameInput = document.getElementById('username');
const mobileInput = document.getElementById('mobile');

const levelInfo = document.getElementById('levelInfo');
const questionText = document.getElementById('questionText');
const optionsList = document.getElementById('optionsList');
const feedbackEl = document.getElementById('feedback');
const nextBtn = document.getElementById('nextBtn');
const quitBtn = document.getElementById('quitBtn');

const overlay = document.getElementById('overlay');
const modal = document.getElementById('modal');
const modalTitle = document.getElementById('modalTitle');
const modalMessage = document.getElementById('modalMessage');
const modalOk = document.getElementById('modalOk');
const modalBack = document.getElementById('modalBack');
const resultText = document.getElementById('resultText');

let currentLevel = 1;
let currentIndex = 0; // absolute index in quizData
let levelStartIndex = 0;
let levelEndIndex = 4;
let score = 0;
let candidate = {name:'', mobile:''};

// Build level buttons (1..30)
for (let i=1;i<=30;i++){
  const b = document.createElement('button');
  b.textContent = 'Level '+i;
  b.onclick = ()=> openFormForLevel(i);
  levelsContainer.appendChild(b);
}

function openFormForLevel(level){
  currentLevel = level;
  levelStartIndex = (level-1)*5;
  levelEndIndex = levelStartIndex + 4;
  formCard.style.display = 'block';
  quizCard.style.display = 'none';
  formMeta.textContent = `Level ${level} — Enter your details`;
  formError.textContent = '';
  usernameInput.value = '';
  mobileInput.value = '';
  resultText.textContent = '';
}

formBack.onclick = ()=> {
  formCard.style.display = 'none';
};

startBtn.onclick = ()=> {
  const name = usernameInput.value.trim();
  const mobile = mobileInput.value.trim();
  formError.textContent = '';
  if (!name){ formError.textContent = 'Please enter username'; return; }
  if (!/^\d{10,15}$/.test(mobile)){ formError.textContent = 'Please enter valid mobile (10–15 digits)'; return; }
  candidate.name = name;
  candidate.mobile = mobile;
  startLevel();
};

function startLevel(){
  score = 0;
  currentIndex = levelStartIndex;
  formCard.style.display = 'none';
  quizCard.style.display = 'block';
  levelInfo.textContent = `Level ${currentLevel} • Candidate: ${candidate.name}`;
  feedbackEl.textContent = '';
  loadQuestion();
}

function loadQuestion(){
  if (currentIndex > levelEndIndex){
    // level finished
    quizCard.style.display = 'none';
    showModal(`Level ${currentLevel} Completed`, `Candidate: ${candidate.name} (${candidate.mobile})\nScore: ${score} / 5`);
    return;
  }
  const item = quizData[currentIndex];
  questionText.textContent = item.q;
  optionsList.innerHTML = '';
  feedbackEl.textContent = '';
  for (let opt of item.opts){
    const label = document.createElement('label');
    label.innerHTML = `<input type="radio" name="opt" value="${escapeHtml(opt)}"> ${escapeHtml(opt)}`;
    optionsList.appendChild(label);
  }
}

function getSelectedOption(){
  const nodes = optionsList.querySelectorAll('input[name="opt"]');
  for (let n of nodes) if (n.checked) return unescapeHtml(n.value);
  return null;
}

nextBtn.onclick = ()=>{
  const selected = getSelectedOption();
  if (!selected){
    feedbackEl.style.color = '#b97100';
    feedbackEl.textContent = '⚠️ Please select an answer';
    return;
  }
  const correct = quizData[currentIndex].a;
  if (selected === correct){
    score++;
    feedbackEl.style.color = '#0b7a3f';
    feedbackEl.textContent = '✅ Correct';
  } else {
    feedbackEl.style.color = '#b71c1c';
    feedbackEl.textContent = `❌ Wrong — correct: ${correct}`;
  }
  // move to next question after short delay
  setTimeout(()=> {
    currentIndex++;
    loadQuestion();
  }, 700);
};

quitBtn.onclick = ()=>{
  quizCard.style.display = 'none';
  resultText.textContent = `You quit Level ${currentLevel}. Score so far: ${score} / ${currentIndex - levelStartIndex}`;
};

/* Modal controls */
function showModal(title, msg){
  modalTitle.textContent = title;
  modalMessage.textContent = msg;
  overlay.style.display = 'block';
  modal.style.display = 'block';
}
function closeModal(){
  overlay.style.display = 'none';
  modal.style.display = 'none';
}
modalOk.onclick = ()=> { closeModal(); resultText.textContent = `✅ Level ${currentLevel} finished. Choose another level.`; }
modalBack.onclick = ()=> { closeModal(); resultText.textContent = `✅ Level ${currentLevel} finished. Choose another level.`; }

/* Utility: escape/unescape simple HTML in option values */
function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }
function unescapeHtml(s){ return String(s).replace(/&amp;/g,'&').replace(/&quot;/g,'"').replace(/&lt;/g,'<').replace(/&gt;/g,'>'); }

</script>
</body>
</html>
