<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A ↔ B Coin Transfer</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background-color: #f5f7fb;
      overflow-x: hidden;
    }

    header {
      background-color: #2a6cf4;
      color: white;
      text-align: center;
      padding: 20px;
      font-size: 22px;
      font-weight: bold;
    }

    .container {
      display: flex;
      justify-content: space-around;
      margin: 30px;
      position: relative;
    }

    .card {
      background: white;
      padding: 20px;
      border-radius: 10px;
      width: 30%;
      box-shadow: 0px 3px 8px rgba(0,0,0,0.1);
      position: relative;
      z-index: 2;
    }

    .card h3 {
      margin-bottom: 10px;
      color: #333;
    }

    .input-box {
      width: 100%;
      padding: 8px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    .btn {
      background: #2a6cf4;
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }

    .btn:hover {
      background: #1f50b8;
    }

    .balance-box {
      background: #f3f3f3;
      padding: 10px;
      border-radius: 6px;
      margin: 15px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .copy-text {
      cursor: pointer;
      font-weight: bold;
      color: #2a6cf4;
    }
    .copy-text:hover {
      text-decoration: underline;
    }

    .coin {
      position: absolute;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: gold;
      box-shadow: 0 0 5px rgba(0,0,0,0.3);
      z-index: 1;
      animation: flyCoin 20s forwards linear;
    }

    @keyframes flyCoin {
      0% {
        transform: translate(0, 0);
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translate(500px, 0);
        opacity: 0;
      }
    }

    .extra-form {
      margin-top: 15px;
      border-top: 1px solid #ccc;
      padding-top: 10px;
    }
  </style>
</head>
<body>

<header>
  A ↔ B Coin Transfer <br>
  <small>Login both sides to send coins</small>
</header>

<div class="container">
  <!-- Person A -->
  <div class="card" id="cardA"> 
    <div class="beforelogin"> 
      <h3> SS BANK Person Page</h3>
      <input class="input-box" type="text" placeholder="Name" id="aName">
      <input class="input-box" type="text" placeholder="User Number" id="aNumber">
      <button class="btn" onclick="bankpersonaloginsai()">Login</button>
    </div>

    <div class="afterlogin" style="display: none;"> 
      <h4>Welcome, <span id="aDisplayName"></span></h4>
      <p>Number: <span id="aDisplayNumber"></span></p>
      <div class="balance-box">Balance: <span id="aBalance">1367</span></div>

      <!-- <input class="input-box" type="number" id="sendAmount" placeholder="Send Amount">
      <button class="btn" onclick="sendCoins()">Send → B</button> -->

      <!-- Extra Form after login -->
      <div class="extra-form" id="extraform">
        <h4>Enter Person B Details</h4>
        <input class="input-box" type="text" placeholder="Enter Person B Number" id="aEnterBNumber">
        <input class="input-box" type="text" placeholder="Enter Person B UPID" id="aEnterBUPID">
        <input class="input-box" type="number" id="sendAmount" placeholder="Send Amount">
        <button class="btn" onclick="bankpersonAverify()">verfy</button>
       </div>
      <div class="extraafterlogin" id="extraafterlogin" style="display: none;">
        <h5 id="b_number">dsh</h5>
        <h5 id="b_link">yy</h5>
        <h5 id="b_transforcoins">gg</h5>
        <button class="btn" onclick="sendCoins()">Send → B</button>

      </div>
    </div>
  </div>

  <!-- Person B -->
  <div class="card" id="cardB">
    <div class="beforeloginB">
      <h3>Person B Login (DevOps exam Persons only)</h3>
      <input class="input-box" type="text" placeholder="Name" id="bName">
      <input class="input-box" type="text" placeholder="User Number" id="bNumber">
      <button class="btn" onclick="window.bankpersonbloginsai()">Login</button>
    </div>

    <div class="openbblock" style="display: none;"> 
      <h4>Welcome, <span id="bDisplayName"></span></h4>
      <p>Number: <span id="bDisplayNumber" class="copy-text" onclick="copyText()"></span></p>
      <div class="balance-box">
        UPID: <span id="upidText" class="copy-text" onclick="copyText('upidText')"></span>
      </div>
      <div class="balance-box">
        Balance: <span id="bBalance">1144</span>
        <button class="btn" style="padding:5px 10px;font-size:12px;" onclick="refreshBalance()">Refresh</button>
      </div>
    </div>
  </div>
</div>
<div id="bankcoins" style="display: none;"></div>
<script>
  // function sai(){
  //   alert('ok')
  //   window.bankpersonBlogin()
  // }
  function bankpersonAlogin() {
    // const name = document.getElementById('aName').value;
    // const number = document.getElementById('aNumber').value;

    
      document.querySelector('.beforelogin').style.display = "none";
      document.querySelector('#cardA .afterlogin').style.display = "block";
      document.getElementById('aDisplayName').textContent = name;
      document.getElementById('aDisplayNumber').textContent = number;
  
     
  }

  function personBlogin() {
    // const name = document.getElementById('bName').value;
    // const number = document.getElementById('bNumber').value;

    
      document.querySelector('.beforeloginB').style.display = "none";
      document.querySelector('.openbblock').style.display = "block";
       

      // Generate unique UPID link
       
     
  }

  function sendCoins() {
    let container = document.querySelector('.container');
    let cardA = document.getElementById('cardA');
    let rectA = cardA.getBoundingClientRect();

    for (let i = 0; i < 10; i++) {
      let coin = document.createElement('div');
      coin.classList.add('coin');

      coin.style.left = rectA.right - 50 + "px";
      coin.style.top = (rectA.top + 100 + (i * 5)) + "px";

      coin.style.animationDelay = (i * 1.5) + "s";

      container.appendChild(coin);

      setTimeout(() => { coin.remove(); }, 21000);
    }
  }

  function copyText() {
    let text = document.getElementById(bDisplayNumber).innerText;
    navigator.clipboard.writeText(text).then(() => {
      alert("Copied: " + text);
    });
  }

  function refreshBalance() {
    bankpersonBlogin()
    const balance = document.getElementById("bBalance").innerText;
    alert("Current Person B Balance: " + balance);
  }
</script>
<script type="module" src="firebase.js"></script>

<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
<!-- <script type="module" src="firebase.js"></script> -->
</body>
</html>
